import{r as d,c as l,a as e,b as u,t as c,w as x,d as w,v as y,n as g,e as m,f as b,g as h,h as _,s as k,u as V,o as i}from"./main-CXxHQZ5I.js";const C={class:"min-h-screen bg-gradient-to-br from-primary-600 via-primary-700 to-secondary-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},E={class:"max-w-md w-full space-y-8"},M={key:0,class:"p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg"},T={key:1,class:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg"},z={class:"rounded-md shadow-sm space-y-4"},B=["disabled"],N={key:0},P={key:1,class:"flex items-center"},R={class:"text-center text-sm mt-4"},$={__name:"ForgotPassword",setup(j){V();const o=d(""),a=d(!1),r=d(""),n=d(""),p=async()=>{if(!o.value){r.value="Por favor, insira seu email.";return}a.value=!0,r.value="",n.value="";try{const{error:s}=await k.auth.resetPasswordForEmail(o.value,{redirectTo:`${window.location.origin}/update-password`,data:{type:"recovery"},options:{emailRedirectTo:`${window.location.origin}/update-password`}});if(s)throw s;n.value=`Um link de redefiniÃ§Ã£o de senha foi enviado para ${o.value}. Verifique sua caixa de entrada e a pasta de spam.`,o.value=""}catch(s){console.error("Erro ao enviar email de redefiniÃ§Ã£o:",s),r.value=s.message||"Ocorreu um erro ao enviar o email de redefiniÃ§Ã£o. Tente novamente."}finally{a.value=!1}};return(s,t)=>{const v=_("router-link");return i(),l("div",C,[e("div",E,[t[4]||(t[4]=e("div",null,[e("div",{class:"mx-auto h-16 w-16 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center"},[e("span",{class:"text-3xl"},"ðŸ”‘")]),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-white"}," Redefinir senha "),e("p",{class:"mt-2 text-center text-sm text-blue-100"}," Digite seu email para receber um link de redefiniÃ§Ã£o ")],-1)),n.value?(i(),l("div",M,c(n.value),1)):u("",!0),r.value?(i(),l("div",T,c(r.value),1)):u("",!0),e("form",{class:"mt-8 space-y-6",onSubmit:x(p,["prevent"])},[e("div",z,[e("div",null,[t[1]||(t[1]=e("label",{for:"email",class:"block text-sm font-medium text-white mb-1"}," Email ",-1)),w(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=f=>o.value=f),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-lg relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 focus:z-10 sm:text-sm",placeholder:"seu@email.com"},null,512),[[y,o.value]])])]),e("div",null,[e("button",{type:"submit",disabled:a.value,class:g(["group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 transition-colors duration-200",{"opacity-50 cursor-not-allowed":a.value}])},[a.value?(i(),l("span",P,t[2]||(t[2]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Enviando... ")]))):(i(),l("span",N,"Enviar link de redefiniÃ§Ã£o"))],10,B)])],32),e("div",R,[b(v,{to:"/login",class:"text-yellow-300 hover:text-yellow-200 underline"},{default:h(()=>t[3]||(t[3]=[m(" Voltar para o login ")])),_:1,__:[3]})])])])}}};export{$ as default};
